---
title: "Untitled"
author: "Angie Boysen"
date: "July 14, 2016"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(ggplot2)
library(dplyr)
library(tidyr)
require(graphics); require(grDevices)
library(Hmisc)
library(gtools)
library(cowplot)
require(RColorBrewer)
library(xlsx)
library(readr)
library(plotly)
```

##Exploring the HILIC bacteria samples

#Import data

```{r}
mydata.overloaded <- read_csv("./QC.output.new.Bacteria_HILIC_160613_1to2_update_akb.csv")
mydata.overloaded <-mydata.overloaded[,2:11]
mydata <- mydata.overloaded
glimpse(mydata)
```

# Here's an interactive plot
```{r}
p <- ggplot(mydata, aes(x=Retention.Time, y=Area, colour = Replicate.Name)) + geom_point(aes(text = paste(Compound.Name)), alpha = 0.4) 
ggplotly(p)
```


#Normalize
This is currently broken
```{r echo=FALSE, execute=FALSE}
wArea<- mydata %>%
     select(Replicate.Name,Compound.Name,Area) %>%
     spread(key=Replicate.Name, value=Area) 
wArea.norm <- wArea[,-1] %>% apply(1,function(x) x/wArea[which(wArea$Compound.Name=="D-Methionine"),-1])

```

#Break Up the Names
Also currently broken
```{r echo=FALSE}
mydata_new <- mydata %>% separate(Replicate.Name, c("runData","type","ID","other1","other2","other3"),"_")
```


